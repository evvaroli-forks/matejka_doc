# Networking Command Line

Sammlung von Kommandozeilen Befehlen in Zusammenhang mit Netzwerk



# Windows

Eingestellte IP Adresse

```bash
ipconfig
```



DHCP release/renew

```bash
ipconfig /release
ipconfig /renew
```

ARP Cache leeren

```bash
 arp -d
```

Offene Verbindungen

```bash
> netstat
```

DNS Cache leeren

```bash
ipconfig /flushdns
```




# MacOS / Linux

IP Adresse ermitteln / Interface finden

```bash
ifconfig
ifconfig |grep inet
```

nur Linux:

```bash
ip a
# oder
ip address
```

DHCP aktuelle Einstellungen (auch Linux?)

```bash
ipconfig getpacket en6
```



DHCP release/renew

```bash
sudo ipconfig set en6 DHCP
```



ARP Cache leeren (MacOS)

```bash
 arp -a -d
```

ARP chache anzeigen (Linux)

```bash
arp -n
```

ARP cache leeren (Linux)

```bash
ip -s -s neigh flush all
```



DNS cache leeren

```bash
# macOS
sudo killall -HUP mDNSResponder

# ubuntu
sudo systemd-resolve --flush-caches
```




DNS

```bash
$ nslookup orf.at
Server:		10.10.10.1
Address:	10.10.10.1#53

Non-authoritative answer:
Name:	orf.at
Address: 194.232.104.3
Name:	orf.at
Address: 194.232.104.4
Name:	orf.at
Address: 194.232.104.139
Name:	orf.at
Address: 194.232.104.140
Name:	orf.at
...
```

- Warum `Non-authoritative answer`?
- Warum mehrere IP Adressen?



netstat

```bash
$ netstat

$ netstat -tunap
# nicht BSD/macOS
# -t TCP
# -u UDP
# -n numerical addresses instead of symbolic host, port, user
# -a shows also listening sockets
# -p PID using this socket
```



DNS Server ermitteln

At the terminal prompt, enter cat /etc/resolv.conf to determine the DNS server. 

```bash
$ cat /etc/resolv.conf 
# Generated by resolvconf 
nameserver 192.168.1.1 
```



Default gateway ermitteln (display the IP routing table )

```bash
$ netstat -r
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
default         _gateway        0.0.0.0         UG        0 0          0 enp0s3
10.12.0.0       0.0.0.0         255.255.0.0     U         0 0          0 enp0s3
_gateway        0.0.0.0         255.255.255.255 UH        0 0          0 enp0s3
```








# Wireshark

## Filter

Use these instruction and documentation links to learn how to use Wireshark’s filters:

- [Display filters](https://wiki.wireshark.org/DisplayFilters)

- [Capture filters](https://wiki.wireshark.org/CaptureFilters)

- [Wireshark 2.1 User’s Guide](https://www.wireshark.org/docs/wsug_html_chunked/)

- [Wireshark Manual Pages](https://www.wireshark.org/docs/man-pages/)

    - Manual page: [Wireshark Filters](https://www.wireshark.org/docs/man-pages/wireshark-filter.html)

## Filter examples

ARP/ICMP

```
arp or icmp
```

DNS

```
dns
```

DHCP

```
bootp
```



```
 tcp and ip.addr==198.246.117.106
```



```
ftp
```

