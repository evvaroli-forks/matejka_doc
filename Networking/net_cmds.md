---
title: Networking Command Line
subtitle: Linux
---

Sammlung von Kommandozeilen Befehlen in Zusammenhang mit Netzwerk


# IP Adresse

**IP Adresse** ermitteln / Interface finden

```bash
$ ifconfig
$ ifconfig | grep inet
```

Neuere Linux Distributionen:

```bash
ip a
# oder
ip address
```



# DHCP

**DHCP** aktuelle Einstellungen (auch Linux?):

```bash
ipconfig getpacket en6
```

**DHCP** release/renew:

```bash
sudo ipconfig set en6 DHCP
```



# ARP

**ARP** chache anzeigen:

```bash
arp -n
```

**ARP** cache leeren:

```bash
ip -s -s neigh flush all
```



# DNS

**DNS** cache leeren:

```bash
sudo systemd-resolve --flush-caches
```

**DNS**:

```bash
$ nslookup orf.at
Server:		10.10.10.1
Address:	10.10.10.1#53

Non-authoritative answer:
Name:	orf.at
Address: 194.232.104.3
Name:	orf.at
Address: 194.232.104.4
Name:	orf.at
Address: 194.232.104.139
Name:	orf.at
Address: 194.232.104.140
Name:	orf.at
...
```

- Warum `Non-authoritative answer`?
- Warum mehrere IP Adressen?

**DNS Server** ermitteln

```bash
$ cat /etc/resolv.conf 
# Generated by resolvconf 
nameserver 192.168.1.1 
```



# netstat – open Sockets

[[manpage : netstat](https://linux.die.net/man/8/netstat)]

Prüfen ob ein Serverprozess an einen Port **gebunden** ist:

```bash
$ netstat -tlpn | grep 80
# displays a list of open sockets
# -t ... TCP
# -l ... Show only listening sockets. 
# -p ... Show the PID and name of the program to which each socket belongs.
# -n ... Show numerical addresses instead of [...] symbolic host [...]
```

Übersicht über alle offenen Kommunikationskanäle (TCP und UDP):

```bash
$ netstat -tunap
# -t TCP
# -u UDP
# -n numerical addresses instead of symbolic host, port, user
# -a shows also listening sockets
# -p PID using this socket
```

Default gateway ermitteln (display the IP routing table )

```bash
$ netstat -r
# -r, Display the kernel routing tables.
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
default         _gateway        0.0.0.0         UG        0 0          0 enp0s3
10.12.0.0       0.0.0.0         255.255.0.0     U         0 0          0 enp0s3
_gateway        0.0.0.0         255.255.255.255 UH        0 0          0 enp0s3
```



# macOS

ARP Cache leeren (MacOS)

```bash
arp -a -d
```

DNS cache leeren

```bash
sudo killall -HUP mDNSResponder
```

